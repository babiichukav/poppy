/*! For license information please see notifications-sdk-bundle.js.LICENSE.txt */
!function(){var t={27:function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/index.ts")}({"./src/index.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"reactToElement",(function(){return o})),n.d(e,"exposeAnimationEvents",(function(){return s}));var i=n("@spotim/fed-utils");function o(t){var e=t.selector,n=t.onAdded,o=t.onAttributesChanged,s=void 0===o?function(t){}:o,c=t.onRemoved,l=void 0===c?function(t){}:c,u="spotim-detector-animation-".concat(function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e+Math.floor(1e5+9e5*Math.random())||0}(e));Object(i.isInSafeframe)()?function(t){var e=t.selector,n=t.onItemFound,i=document.querySelector(e);if(i)n(i);else var o=setInterval((function(){var t=document.querySelector(e);t&&(n(t),clearInterval(o))}),1e3)}({selector:e,onItemFound:function(t){n(t),a({element:t,onRemoved:l}),r({element:t,onAttributesChanged:s})}}):(function(t){var e=t.selector,n=t.animationName;requestAnimationFrame((function(){var t,i=document.createElement("style");i.setAttribute("data-spot-im-style-module","*"),i.setAttribute("data-spot-im-style","true"),i.innerText="\n  ".concat(e," {\n    animation: ").concat(n," 1ms !important;\n  }\n  \n  @keyframes ").concat(n," {\n    from {\n    } to {\n    }\n  }\n  ").replace(/\n/g,""),document.head.appendChild(i),(null===(t=window.__SPOTIM__)||void 0===t?void 0:t.stylesheetElementAdded)&&window.__SPOTIM__.stylesheetElementAdded({module:"*",stylesheetElement:i});var o=document.querySelectorAll("data-spot-im-shadow-host");Array.from(o).forEach((function(t){t.shadowRoot&&t.shadowRoot.appendChild(i.cloneNode())}))}))}({animationName:u,selector:e}),function(t){var e=t.animationName,n=t.onItemFound,i=function(t){var i;t.animationName!==e&&(null==t||null===(i=t.detail)||void 0===i?void 0:i.animationName)!==e||!t.target||n&&n(t.composedPath()[0])};document.addEventListener("animationstart",i),document.addEventListener("MSAnimationStart",i),document.addEventListener("webkitAnimationStart",i)}({animationName:u,onItemFound:function(t){n(t),a({element:t,onRemoved:l}),r({element:t,onAttributesChanged:s})}}))}function r(t){var e=t.element,n=t.onAttributesChanged;e&&MutationObserver&&new MutationObserver((function(t){t.forEach((function(t){n(t.target)}))})).observe(e,{attributes:!0})}function a(t){var e=t.element,n=t.onRemoved;e&&MutationObserver&&e.parentNode&&new MutationObserver((function(t,i){t.some((function(t){return Array.from(t.removedNodes).indexOf(e)>-1}))&&(n(t[0].removedNodes[0]),i.disconnect())})).observe(e.parentNode,{childList:!0})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&t.shadowRoot&&t.shadowRoot.addEventListener("animationstart",(function(t){var n;if(!t.detail||!t.detail.isSpotimReEmittedEvent){var i=new(c(e))("animationstart",{composed:!0,bubbles:!0,detail:{animationName:t.animationName,isSpotimReEmittedEvent:!0}});null===(n=t.target)||void 0===n||n.dispatchEvent(i)}}))}var c=function(t){var e;if(!t.defensiveMode)return CustomEvent;var n=document.createElement("iframe");document.body.appendChild(n);var i=null==n||null===(e=n.contentWindow)||void 0===e?void 0:e.CustomEvent;return document.body.removeChild(n),i}},"@spotim/fed-utils":function(t,e){t.exports=n(923)}})},923:function(t,e,n){"use strict";n.r(e),n.d(e,{buildAdminDashboardUrl:function(){return ht},checkBrowser:function(){return K},conversationPageBackToCommentsEnabled:function(){return bt},copyToClipboard:function(){return nt},dispatchSpotimEvent:function(){return $},formatLanguageCode:function(){return Q},getCloudinaryUrl:function(){return pt},getCurrentScrollPosition:function(){return L},getCustomPublisherData:function(){return et},getDebugger:function(){return Et},getDynamicTranslations:function(){return _t},getLocation:function(){return V},guid:function(){return G},initScrollListener:function(){return P},isInSafeframe:function(){return k},isOldBrowser:function(){return Y},isUnsupportedBrowser:function(){return H},isWebpSupported:function(){return ut},isWebpSupportedAsync:function(){return lt},navigate:function(){return it},navigateSafeframe:function(){return ot},parseNumber:function(){return z},prettyDate:function(){return mt},subscribeToVisibilityChange:function(){return J},tooltipDate:function(){return At}});var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t){return t.toLowerCase()}Object.create,Object.create;var r=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}var c={angle:"a",rotate:"a",background:"b",color:"co",colorSpace:"cs",customFunction:"fn",defaultImage:"d",density:"dn",dpr:"dpr",opacity:"o",format:"f",gravity:"g",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",bitRate:"br",keyframeInterval:"ki",audioCodec:"ac",audioFrequency:"af",delay:"dl",ocr:"ocr",streamingProfile:"sp",transformation:"t",underlay:"u",videoCodec:"vc",videoSampling:"vs",zoom:"z"},l={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},u={width:"w",height:"h",x:"x",y:"y",quality:"q",if:"if",aspectRatio:"ar",rotate:"a",opacity:"o",radius:"r",dpr:"dpr",effect:"e",border:"bo",currentPage:"cp",preview:"preview:duration",duration:"du",faceCount:"fc",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags"},d="("+Object.keys(u).join("|")+")",f=["quality","if","rotate","zoom","opacity","radius","effect","dpr"],p={equal:"eq",notEqual:"ne",lessThan:"lt",greaterThan:"gt",lessOrEqual:"lte",greaterOrEqual:"gte",include:"in",notInclude:"nin"},m={width:"w",initialWidth:"iw",height:"h",initialHeight:"ih",aspectRatio:"ar",intialAspectRatio:"iar",context:"ctx",metadata:"md",tags:"tags",trimmedAspectRatio:"tar",currentPage:"cp",faceCount:"fc",pageCount:"pc",pageXOffset:"px",pageYOffset:"py",initialDensity:"idn",illustration:"ils",pageNames:"pgnames"},A=function(t,e){return void 0===e&&(e=":"),t.filter(Boolean).join(e)},v=function(t){var e=t.expression?A(t.expression.map((function(t){return h(t)})),"_and_"):"",n=t.transformations.map((function(t){return x(S(t))}));return{expression:e,transformations:A(n,"/")}},g=function(t){return m[t]||t},h=function(t){var e=Array.isArray(t.characteristic)?A(t.characteristic.map(g)):g(t.characteristic),n=p[t.operator],i=isNaN(t.value)?"!"+t.value+"!":t.value;return A([e,n,i],"_")},b={integer:"to_i",float:"to_f"},_="((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))",y=function(t){return isNaN(t)?w(t):t},w=function(t){return t?function(t){var e=new RegExp(d,"g");return t.replace(e,(function(e,n,i){return"$"===t[i-1]?e:u[e]}))}((e=t,n=new RegExp(_,"g"),e.replace(n,(function(t){return l[t]})))).replace(/[ _]+/g,"_"):"";var e,n},C={context:"ctx",structureMetadata:"md"},E=function(t){var e="$"+t.name,n=t.value;isNaN(t.value)&&(n=Array.isArray(t.value)?A(t.value):function(t){if(!t||!t.expression)return"";var e=Array.isArray(t.expression)?A(t.expression):t.expression,n=function(t){return new RegExp(_,"g").test(t)}(e),i=w(e),o=b[t.formatAs]||"";return A([i&&!n?"!"+i+"!":i,o],"_")}(t.value));var i=A([C[t.assignFrom],n],":");return i?A([e,i],"_"):""},N=function(t){var e,n=[];for(var i in n.push(function(t){return t?Array.isArray(t)?A(t.map((function(t){return E(t)})),","):E(t):""}(t.variables)),n.push(function(t){var e,n,i,o,r;return t.resize||t.width||t.height||t.aspectRatio?(n=(e=t.resize||{width:t.width,height:t.height,type:t.crop,aspectRatio:t.aspectRatio}).type,i=e.width,o=e.height,r=e.aspectRatio,[n?"c_"+n:"",i?"w_"+y(i):"",o?"h_"+y(o):"",r?"ar_"+y(r):""].filter(Boolean).join()):""}(t)),n.push(function(t){return t.border?"string"==typeof t.border?"bo_"+t.border:(i=void 0===(n=(e=t.border).type)?"solid":n,r=void 0===(o=e.color)?"black":o,(a=e.width)?"bo_"+(isNaN(a)?w(a):a+"px")+"_"+i+"_"+r:""):"";var e,n,i,o,r,a}(t)),n.push(function(t){return t.x||t.y||t.position?(n=(e=t.position||{x:t.x,y:t.y}).x,i=e.y,[n?"x_"+y(n):"",i?"y_"+y(i):""].filter(Boolean).join()):"";var e,n,i}(t)),n.push(function(t){var e="object"==typeof t;return!t||e&&!t.min?"":"fps_"+(e?A([t.min,t.max],"-"):t)}(t.fps)),n.push((e=t.offset)?[e.start?"so_"+e.start:"",e.end?"eo_"+e.end:"",e.duration?"du_"+e.duration:""].filter(Boolean).join(","):""),t){var o=t[i],r=c[i];if(r&&o){var a=f.includes(i);n.push(r+"_"+(a?y(o):o))}}return n.push(function(t){var e="string"==typeof t;if(!t||!e&&!t.name)return"";if(e||!t.value)return"e_"+(t.name||t);var n=Array.isArray(t.value)?t.value.join(":"):t.value;return"e_"+A([t.name,n])}(t.effect)),n.push(function(t){return t&&0!==t.length?"fl_"+("string"==typeof t?t:t.join(":")):""}(t.flags)),n.push(t.rawTransformation),n.push(function(t){if(!t||!t.if||!t.if.expression)return"";var e=v(t.if),n=t.else?v(t.else):null,i=A(["if_"+e.expression,e.transformations],"/"),o=n?A(["if_else",n.transformations],"/"):"";return[A([i,o,"if_end"],"/")]}(t.condition)),n.filter(Boolean)},B=function(t){var e=N(t),n=t.transformation||t.chaining;return n&&Array.isArray(n)&&n.forEach((function(t){var n=N(t);n.length>0&&e.push(n)})),e.filter(Boolean)},x=function(t){return t.reduce((function(t,e){var n=Array.isArray(e);return t+(t?n?"/":",":"")+e.toString()}),"")},S=B,O=B,T=n(951),I=n.n(T),k=function(){return window.top!==window&&!!window.$sf},M=0,R=!1,P=function(t,e){var n=k(),i=L(n),o=W(n),r=j(n);M=0,R=!1,i>20||r?t(e):o?n?U(t,e):D(t,e):setTimeout((function(){t(e)}),1e3)},W=function(t){var e,n,i,o;return t?null===(e=100!==(null===(n=window.$sf)||void 0===n||null===(i=n.ext)||void 0===i||null===(o=i.inViewPercentage)||void 0===o?void 0:o.call(i)))||void 0===e||e:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},j=function(t){var e,n,i;return!!t&&(null===(e=window.$sf)||void 0===e||null===(n=e.ext)||void 0===n||null===(i=n.inViewPercentage)||void 0===i?void 0:i.call(n))>0},L=function(t){if(t){var e=window.$sf.ext.geom(),n=e.par,i=e.win;return n.t||n.b-i.h}return document.documentElement.scrollTop||document.body.scrollTop},D=function(t,e){var n=function n(){t(e),window.removeEventListener("resize",n),window.removeEventListener("scroll",i)},i=function i(){!function(t,e,n,i){M=document.documentElement.scrollTop||document.body.scrollTop,R||(window.requestAnimationFrame((function(){!function(t,e,n,i,o){t>=20&&(window.removeEventListener("resize",i),window.removeEventListener("scroll",n),e(o))}(M,t,e,n,i),R=!1})),R=!0)}(t,i,n,e)};window.addEventListener("scroll",i),window.addEventListener("resize",n)},U=function(t,e){document.addEventListener("geom-update",(function n(){L(!0)>=20&&(document.removeEventListener("geom-update",n),t(e))}))};function F(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function G(){var t=F;return t()+t()+t()+t()+t()+t()+t()+t()}function z(t){for(var e=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"},{value:1,symbol:""}],n=e[e.length-1],i=0,o=e;i<o.length;i++){var r=o[i];if(Math.abs(t)>=r.value){n=r;break}}return(t/n.value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol}var q={es_419:"es-419",es_ES:"es-ES",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW",th_TH:"th",en_GB:"en"};function Q(t){return q[t]||t}function J(t,e){function n(){document.hidden?e():t()}return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}function K(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===n[1]?(t=e.match(/\b(OPR|Edge?)\/(\d+)/))?{name:t[1].replace("OPR","Opera").replace("Edg ","Edge ")||"",version:t[2]||""}:{name:"Chrome",version:n[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})}function H(){var t=K(),e=parseInt(t.version.split(".")[0]),n=("Edge"===t.name||"Edg"===t.name)&&e<80,i=!!window.navigator.userAgent.match(/(MSIE|Trident)/),o=!!window.navigator.userAgent.match(/(Waterfox|waterfox)/);return n||i||o}function Y(){var t=K();if(!t.version)return!0;var e=parseInt(t.version.split(".")[0]),n=!0;switch(t.name){case"Chrome":n=e<66;break;case"Safari":n=e<13;break;case"Firefox":n=e<60;break;case"Edge":case"Edg":n=e<80}return n}function $(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});document.dispatchEvent(n),k()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"spotim_event",args:{type:t,params:e}})}var V=function(){if(!k())return window.location;try{var t,e;return new URL((null===(t=window)||void 0===t||null===(e=t.spotimSafeframe)||void 0===e?void 0:e.hostUrl)||document.referrer)}catch(t){return window.location}};function X(){return(X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var tt="custom",et=function(t){var e=Object.keys(t.dataset),n=X({},t.dataset);return e.reduce((function(t,e){return e.startsWith(tt)?(t[(c=e.slice(tt.length),void 0===l&&(l={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,i=void 0===n?r:n,c=e.stripRegexp,l=void 0===c?a:c,u=e.transform,d=void 0===u?o:u,f=e.delimiter,p=void 0===f?" ":f,m=s(s(t,i,"$1\0$2"),l,"\0"),A=0,v=m.length;"\0"===m.charAt(A);)A++;for(;"\0"===m.charAt(v-1);)v--;return m.slice(A,v).split("\0").map(d).join(p)}(t,i({delimiter:"."},e))}(c,i({delimiter:"_"},l)))]=n[e],t):t;var c,l}),{})};function nt(t){!function(t){var e=document.createElement("span");e.textContent=t,document.body.appendChild(e);var n=window.getSelection(),i=window.document.createRange();null==n||n.removeAllRanges(),i.selectNode(e),null==n||n.addRange(i);try{window.document.execCommand("copy")}catch(t){}null==n||n.removeAllRanges(),window.document.body.removeChild(e)}(t),k()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"clipboard_write",args:{text:t}})}function it(t){k()?ot(t):window.location.href=t}function ot(t){var e;k()&&(null===(e=window.spotimSafeframe)||void 0===e||e.sendMessageToHost({action:"navigate",args:{url:t}}))}var rt,at=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"lossless"}],st=function(t){return new Promise((function(e){var n=new Image;function i(t){var i="load"===(null==t?void 0:t.type)&&1===n.width;e({result:i,event:t})}n.onerror=i,n.onload=i,n.src=t}))},ct={webp:!1},lt=function(){return rt||(rt=new Promise((function(t){try{var e=[],n=at.shift();return Promise.resolve(st(n.uri)).then((function(i){var o=i.result,r=i.event;if(ct[n.name]=o,"load"===(null==r?void 0:r.type))for(var a,s=function(){var t=a.value,n=st(t.uri).then((function(e){var n=e.result;return ct[t.name]=n}));e.push(n)},c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(at);!(a=c()).done;)s();return Promise.resolve(Promise.all(e)).then((function(){t(ct)}))}))}catch(t){return Promise.reject(t)}})))},ut=function(){return ct},dt="https://images.spot.im",ft=dt+"/image/upload",pt=function(t){var e=X({},{quality:50,dpr:3},t);if(!e.url&&!e.pathname)throw new Error("missing required argument `options.url` or `options.pathname`");var n=e.pathname||new URL(e.url).pathname,i=n.split("/").slice(2),o=ut().webp?"webp":"png",r=e.extension?"."+e.extension:"",a="png"===o,s=["fl_lossy"],c=X({},function(t){var e=t.width,n=t.height,i=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["url","width","height","getUrl","pathname"]);return X({},i,{resize:X({width:e,height:n},i.resize)})}(e),{format:o}),l=O(c).concat(s).toString();a&&(l+=",fl_png8");var u=n.startsWith("/")?n.slice(1):n;return e.getUrl?e.getUrl({extension:r,baseUrl:dt,baseUrlUpload:ft,pathname:u,transformations:l,pathnameExtension:""+u+r}):[dt,l].concat(i).filter(Boolean).join("/").concat(r||"")};function mt(t){var e=t.date,n=t.longDate,i=t.t,o=t.dateFormat,r=t.enableDateFormat,a=null==e?void 0:e.getTime(),s=(Date.now()-a)/1e3,c=null,l=n?"long":"short",u=vt(null==e?void 0:e.getFullYear());if(!a||isNaN(s))c="";else if(s<14)c=i("prettyDate.now");else if(s<60){var d=Math.floor(s);c=i("prettyDate."+l+"Second",{count:d,seconds:d})}else if(s<3600){var f=Math.floor(s/60);c=i("prettyDate."+l+"Minute",{count:f,minutes:f})}else if(s<86400){var p=Math.floor(s/3600);c=i("prettyDate."+l+"Hour",{count:p,hours:p})}else{var m=e.getMonth()+1,A=Math.floor(s/86400);c=A<3?i("prettyDate."+l+"Day",{count:A,days:A}):r?new Intl.DateTimeFormat(o,{year:"numeric",month:"long",day:"numeric"}).format(e):e.getDate()+" "+i("prettyDate.months."+m+"."+l)+(n||!u?", "+e.getFullYear():"")}return c}function At(t,e,n){void 0===n&&(n="short");var i=t.getMonth()+1;return t.getDate()+" "+e("prettyDate.months."+i+"."+n)+", "+t.getFullYear()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var vt=function(t){return t===(new Date).getFullYear()},gt={development:"https://admin.staging-spot.im/network/{NETWORK_NAME}",staging:"https://admin.staging-spot.im/network/{NETWORK_NAME}",production:"https://admin.spot.im/network/{NETWORK_NAME}",test:"https://admin.spot.im/network/{NETWORK_NAME}"}[function(){return window.__SPOTIMENV__||"production"}()],ht=function(t){var e,n=t.dashboardType,i=void 0===n?"conversation":n,o=t.networkName,r=void 0===o?"spotim":o,a=t.spotId,s=t.conversationId,c=t.contentType,l=void 0===c?"conversation":c,u=t.userId,d=((e={}).conversation="comments",e.liveBlog="comments",e.post="posts",e),f=gt.replace("{NETWORK_NAME}",r);return I().get("tenant_config.admin-panel."+("conversation"===i?"openDashboardUrl":"viewAllFromUserUrl"),f).replace("{SPOT_ID}",a).replace("{CONV_ID}",s).replace("{USER_ID}",u).replace("{CONTENT_TYPE}",d[l])},bt=function(){var t,e=I().get("queryParams.spot_im_highlight_immediate",!1),n=I().get("queryParams.spot_im_redirect_source",""),i=I().get("tenant_config.launcher.immediateConfig",[]),o="live-blog"===I().get("queryParams.ow_module"),r=null==i?void 0:i.find((function(t){return"conversation-page"===t.module}));return!o&&e&&n&&r&&!(null==r||null===(t=r.excludeSources)||void 0===t?void 0:t.includes(n))},_t=function(t){var e=t.lng,n=t.packageName,i=t.version,o=t.defaultTranslation;try{var r,a="https://static-cdn.spot.im/production/translations/"+n+"/v"+i,s=function(){if("en"===e)r=o;else{var t=function(){var t,o,s;if(!(null===(t=window.__SPOTIM__)||void 0===t||null===(o=t.translations)||void 0===o||null===(s=o[n])||void 0===s?void 0:s[i]))return Promise.resolve(fetch(a+"/"+e+"/translation.json")).then((function(t){return Promise.resolve(t.json()).then((function(t){var e,o,a;r=t,window.__SPOTIM__=X({},window.__SPOTIM__,{translations:X({},window.__SPOTIM__.translations,(a={},a[n]=X({},null===(e=window.__SPOTIM__.translations)||void 0===e?void 0:e[n],(o={},o[i]=r,o)),a))})}))}));r=window.__SPOTIM__.translations[n][i]}();if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(s&&s.then?s.then((function(){return r})):r)}catch(t){return Promise.reject(t)}},yt="SPOTIM_DEBUG_API",wt=null;function Ct(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(e=console).log.apply(e,["%cSpot.IM "+t,"background: #307fe2; color: white;"].concat(i))}function Et(t){var e=function(){try{if(null===wt){var t=new URLSearchParams(V().search);if((wt=t.get(yt.toLowerCase()))||(wt=window.SPOTIM_DEBUG_API),!wt)try{wt=window.localStorage.getItem(yt)}catch(t){}wt||(wt=""),wt=wt.split(",").map((function(t){return t.toLowerCase()}))}return wt}catch(t){return[]}}();return e.indexOf("*")>-1||e.indexOf(t.toLowerCase())>-1?Ct.bind(null,t):function(){}}},727:function(t,e,n){self,t.exports=function(){"use strict";var t={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},d:function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{onBellClick:function(){return m},subscribeToNotifications:function(){return C}});var i=n(951),o=t.n(i),r=n(524),a=n(519),s=n(923);const c="realtime-notifications-internal-event",l=(0,s.getDebugger)("notifications-bell-utils"),u=t=>{window.__OPEN_WEB__.realTimeNotifications.unseenCount=t,l("dispatch new unseen count",t),(0,a.dispatchOnce)(c,t)},d="notifications",f=o().get("spotId",""),p=["embedded_sdk","floating-bell"];function m({postId:t,instanceId:e,trackingSource:n="embedded_sdk"}){return function(t){return p.includes(t)}(n)&&function({postId:t,instanceId:e,trackingSource:n}){const i=function(t){var e,n;const i=document.querySelector('[data-ow-notifications-placeholder][data-instance-id="'.concat(t,'"]'))||(null===(e=document.querySelector("[data-spot-im-shadow-host=".concat(t,"]")))||void 0===e||null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelector('[data-ow-notifications-placeholder][data-instance-id="'.concat(t,'"]')));return!!i&&"true"===i.getAttribute("data-active")}(e);(0,r.trackEvent)({conversation_id:"".concat(f,"_").concat(t),spot_id:f,post_id:t,source:d,item_type:n,type:"bell-clicked",target_type:i?"close":"open",count:window.__OPEN_WEB__.realTimeNotifications.unseenCount})}({postId:t,instanceId:e,trackingSource:n}),u(0),window.__SPOTIM__.initApp(d,{postId:t,instanceId:e,trackingSource:n})}var A,v,g=n(835),h=t.n(g),b=n(21),_=t.n(b);const y=o().get("spotId","");let w;function C(t,e){return l("Subscribed to real time notifications unseen count with postId",t),(({postId:t})=>{if(!window.__OPEN_WEB__.realTimeNotifications.isSubscribedToRealTime){l("subscribing to realtime/read for notifications unseen count with postId",t),window.__OPEN_WEB__.realTimeNotifications.isSubscribedToRealTime=!0;const e="".concat(y,"_").concat(t),n=t=>t[e];w=h().subscribe({spotId:y,postId:t,topic:"conversation/notifications-count",params:()=>({conversation_id:e}),pick:n,callback:t=>{const[e]=t;window.__OPEN_WEB__.realTimeNotifications.unseenCount=e.unseenCount,u(e.unseen)},enableRetry:!1})}window.__OPEN_WEB__.realTimeNotifications.currentUserId||_().subscribe((t=>{window.__OPEN_WEB__.realTimeNotifications.currentUserId!==t.id&&(window.__OPEN_WEB__.realTimeNotifications.currentUserId=t.id,u(0))}))})({postId:t}),(0,a.subscribe)(c,e,{history:!1})}return window.__OPEN_WEB__={...null!==(A=window.__OPEN_WEB__)&&void 0!==A?A:{},realTimeNotifications:{...null!==(v=window.__OPEN_WEB__.realTimeNotifications)&&void 0!==v?v:{isSubscribedToRealTime:!1,currentUserId:"",unseenCount:0}}},e}()},184:function(t,e){var n;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&t.push(a)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},85:function(t,e,n){"use strict";var i=n(15),o=n.n(i),r=n(645),a=n.n(r)()(o());a.push([t.id,"/* content-hash:9368a2c6e82f5bbff7cff2d33e0f63f6 */#spotim-specific#spotim-specific .NotificationsBell__notificationsWrapper--2my9w{position:fixed;bottom:0;z-index:var(--spotim-overlay-z-index);display:flex !important}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__notificationsWrapper--2my9w{margin-bottom:var(--spotim-notifications-bell-margin-bottom)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .NotificationsBell__notificationsWrapper--2my9w.NotificationsBell__bottomRight--2Maa_{right:0;margin-right:var(--spotim-notifications-bell-margin-side)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .NotificationsBell__notificationsWrapper--2my9w.NotificationsBell__bottomRight--2Maa_{left:0;margin-left:var(--spotim-notifications-bell-margin-side)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .NotificationsBell__notificationsWrapper--2my9w.NotificationsBell__bottomLeft--18tYh{left:0;margin-left:var(--spotim-notifications-bell-margin-side)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .NotificationsBell__notificationsWrapper--2my9w.NotificationsBell__bottomLeft--18tYh{right:0;margin-right:var(--spotim-notifications-bell-margin-side)}#spotim-specific#spotim-specific .NotificationsBell__svgWrapper--2t9Kp>svg{display:flex;fill:currentColor}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .NotificationsBell__svgWrapper--2t9Kp>svg{animation:.7s ease-in NotificationsBell__opacityIn--2GCTd}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .NotificationsBell__svgWrapper--2t9Kp>svg{animation:.7s ease-in NotificationsBell__opacityIn--2GCTd}#spotim-specific#spotim-specific .NotificationsBell__bellButton--23b0X{width:60px;height:60px;display:flex;justify-content:center;align-items:center;z-index:var(--spotim-overlay-z-index);transition:all .7s ease-out}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__bellButton--23b0X{border:none;border-radius:50%;box-shadow:var(--spotim-shadow-scheme-s1);border:solid 4px #fff;border-radius:50%;background-color:var(--spotim-color-scheme-l1);cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__bellButton--23b0X:hover{background-color:var(--spotim-color-scheme-l2);transform:scale(1.0833)}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__bellButton--23b0X.NotificationsBell__clicked--22Tdq{background-color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .NotificationsBell__notificationsContainer--2AGec{height:100%;top:0;position:absolute}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .NotificationsBell__notificationsContainer--2AGec.NotificationsBell__bottomRight--2Maa_{right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .NotificationsBell__notificationsContainer--2AGec.NotificationsBell__bottomRight--2Maa_{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .NotificationsBell__notificationsContainer--2AGec.NotificationsBell__bottomLeft--18tYh{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .NotificationsBell__notificationsContainer--2AGec.NotificationsBell__bottomLeft--18tYh{right:0}#spotim-specific#spotim-specific .NotificationsBell__buttonBackground--2rScJ{width:100%;height:100%;position:absolute}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__buttonBackground--2rScJ{background-color:#fff;border-radius:50%}#spotim-specific#spotim-specific .NotificationsBell__counterWrapper--yrQRf{position:absolute;top:0;display:flex;justify-content:center;align-items:center;min-width:22px;height:22px;z-index:var(--spotim-overlay-z-index);color:var(--spotim-color-scheme-l6);font-size:var(--spotim-font-size-t6);line-height:1.5em;letter-spacing:var(--spotim-letter-spacing-t6);font-family:var(--spotim-font-family-t6);font-weight:700;color:var(--spotim-color-scheme-g1)}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__counterWrapper--yrQRf{background:var(--spotim-brand-color);box-shadow:0 0 0 1px var(--spotim-page-background-color);border-radius:22px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .NotificationsBell__counterWrapper--yrQRf{left:40px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .NotificationsBell__counterWrapper--yrQRf{right:40px}#spotim-specific#spotim-specific [data-spot-im-direction] .NotificationsBell__counterWrapper--yrQRf.NotificationsBell__isMaxCount--2IK5N{padding:0 5px}@keyframes NotificationsBell__opacityIn--2GCTd{0%{opacity:0}100%{opacity:1}}","",{version:3,sources:["<no source>","webpack://./src/NotificationsBell/NotificationsBell.scss"],names:[],mappings:"AAAA,kDAAA,CAAA,iFCEE,cAAA,CACA,QAAA,CACA,qCAAA,CACA,uBACA,CALF,0GAKE,4DAAA,CAEA,oJACE,OAAA,CACA,yDAAA,CAFF,oJACE,MAAA,CACA,wDAAA,CAGF,mJACE,MAAA,CACA,wDAAA,CAFF,mJACE,OAAA,CACA,yDAAA,CAKF,2EACE,YAAA,CACA,iBACA,CAHF,wGAGE,yDAAA,CAHF,wGAGE,yDAAA,CAIJ,uEACE,UAAA,CACA,WAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAOA,qCAAA,CAEA,2BAAA,CAdF,gGAME,WAAA,CACA,iBAAA,CACA,yCAAA,CACA,qBAAA,CACA,iBAAA,CACA,8CAAA,CAEA,cACA,CAEA,sGACE,8CAAA,CACA,uBAAA,CAGF,kIACE,0CAAA,CAIJ,mFACE,WAAA,CACA,KAAA,CACA,iBAAA,CAEA,sJACE,OAAA,CADF,sJACE,MAAA,CAGF,qJACE,MAAA,CADF,qJACE,OAAA,CAIJ,6EACE,UAAA,CACA,WAAA,CACA,iBAEA,CALF,sGAIE,qBAAA,CACA,iBAAA,CAGF,2EACE,iBAAA,CAEA,KAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAGA,cAAA,CACA,WAAA,CAEA,qCAAA,CACA,mCAAA,CACA,oCAAA,CACA,iBAAA,CACA,8CAAA,CACA,wCAAA,CACA,eAAA,CACA,mCAAA,CAnBF,oGAOE,oCAAA,CACA,wDAAA,CAGA,kBAQA,CAnBF,wGAEE,SAiBA,CAnBF,wGAEE,UAiBA,CAEA,yIACE,aAAA,CAKJ,+CACE,GACE,SAAA,CAEF,KACE,SAAA,CAAA",sourcesContent:[null,"/* rtl:begin:ignore */\n.notificationsWrapper {\n  position: fixed;\n  bottom: 0;\n  z-index: var(--spotim-overlay-z-index);\n  display: flex !important;\n  margin-bottom: var(--spotim-notifications-bell-margin-bottom);\n\n  &.bottomRight {\n    right: 0;\n    margin-right: var(--spotim-notifications-bell-margin-side);\n  }\n\n  &.bottomLeft {\n    left: 0;\n    margin-left: var(--spotim-notifications-bell-margin-side);\n  }\n}\n\n.svgWrapper {\n  > svg {\n    display: flex;\n    fill: currentColor;\n    animation: 0.7s ease-in opacityIn;\n  }\n}\n\n.bellButton {\n  width: 60px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border-radius: 50%;\n  box-shadow: var(--spotim-shadow-scheme-s1);\n  border: solid 4px white;\n  border-radius: 50%;\n  background-color: var(--spotim-color-scheme-l1);\n  z-index: var(--spotim-overlay-z-index);\n  cursor: pointer;\n  transition: all 0.7s ease-out;\n\n  &:hover {\n    background-color: var(--spotim-color-scheme-l2);\n    transform: scale(1.0833);\n  }\n\n  &.clicked {\n    background-color: var(--spotim-brand-color);\n  }\n}\n\n.notificationsContainer {\n  height: 100%;\n  top: 0;\n  position: absolute;\n\n  &.bottomRight {\n    right: 0;\n  }\n\n  &.bottomLeft {\n    left: 0;\n  }\n}\n\n.buttonBackground {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-color: white;\n  border-radius: 50%;\n}\n\n.counterWrapper {\n  position: absolute;\n  left: 40px;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: var(--spotim-brand-color);\n  box-shadow: 0 0 0 1px var(--spotim-page-background-color);\n  min-width: 22px;\n  height: 22px;\n  border-radius: 22px;\n  z-index: var(--spotim-overlay-z-index);\n  color: var(--spotim-color-scheme-l6);\n  font-size: var(--spotim-font-size-t6);\n  line-height: 1.5em;\n  letter-spacing: var(--spotim-letter-spacing-t6);\n  font-family: var(--spotim-font-family-t6);\n  font-weight: 700;\n  color: var(--spotim-color-scheme-g1);\n\n  &.isMaxCount {\n    padding: 0 5px;\n  }\n}\n/* rtl:end:ignore */\n\n@keyframes opacityIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]),a.locals={notificationsWrapper:"NotificationsBell__notificationsWrapper--2my9w",bottomRight:"NotificationsBell__bottomRight--2Maa_",bottomLeft:"NotificationsBell__bottomLeft--18tYh",svgWrapper:"NotificationsBell__svgWrapper--2t9Kp",opacityIn:"NotificationsBell__opacityIn--2GCTd",bellButton:"NotificationsBell__bellButton--23b0X",clicked:"NotificationsBell__clicked--22Tdq",notificationsContainer:"NotificationsBell__notificationsContainer--2AGec",buttonBackground:"NotificationsBell__buttonBackground--2rScJ",counterWrapper:"NotificationsBell__counterWrapper--yrQRf",isMaxCount:"NotificationsBell__isMaxCount--2IK5N"},e.Z=a},645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.exports=function(t){var n,i,o=(i=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}}(n,i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[1],a=o[3];if(!a)return r;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),l="/*# ".concat(c," */"),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([l]).join("\n")}return[r].join("\n")}},379:function(t,e,n){"use strict";var i,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function a(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},i=[],o=0;o<t.length;o++){var s=t[o],c=e.base?s[0]+e.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=a(u),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(r[d].references++,r[d].updater(f)):r.push({identifier:u,updater:A(f,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function f(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,m=0;function A(t,e){var n,i,o;if(e.singleton){var r=m++;n=p||(p=c(e)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=c(e),i=f.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=a(n[i]);r[o].references--}for(var c=s(t,e),l=0;l<n.length;l++){var u=a(n[l]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=c}}}},951:function(t){"use strict";t.exports=window.__SPOTIM__.SERVICES.configProvider},524:function(t){"use strict";t.exports=window.__SPOTIM__.lib.analytics},21:function(t){"use strict";t.exports=window.__SPOTIM__.lib.currentUser},519:function(t){"use strict";t.exports=window.__SPOTIM__.lib.pubSub},835:function(t){"use strict";t.exports=window.__SPOTIM__.lib.realTime}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,exports:{}};return t[i](r,r.exports,n),r.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=n(727),e=n(21),i=n.n(e),o=n(923),r=n(524),a=n(951),s=n.n(a);const c=s().get("postId"),l=s().get("spotId"),u=s().get("init_data.config.ltr",!0),d=s().get("tenant_config.floating-bell.desktopEnabled",!0),f=s().get("tenant_config.floating-bell.mobileEnabled",!0),p=s().get("tenant_config.floating-bell.desktopLocation",u?"bottom-right":"bottom-left"),m=s().get("tenant_config.floating-bell.mobileLocation",u?"bottom-right":"bottom-left");var A=n(184),v=n.n(A),g=({type:t,attributes:e=[],className:n="",parent:i})=>{const o="svg"===t||"path"===t,r=o?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return e.forEach((t=>{r.setAttribute(t.key,t.value)})),o||(r.className=n),i.appendChild(r),r},h=({parent:t})=>{const e=g({type:"svg",attributes:[{key:"viewBox",value:"0 0 448 512"},{key:"height",value:"29px"},{key:"data-testid",value:"bell-svg"}],parent:t});g({type:"path",attributes:[{key:"d",value:"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"}],parent:e})},b=n(27);const _=window.matchMedia("(min-width: 767px)").matches,y=!_,w=_&&"bottom-left"===p||!_&&"bottom-left"===m;var C=n(379),E=n.n(C),N=n(85),B={insert:function(){var t=arguments[0],e={tag:"floating-bell@v2.0.10",version:"v2.0.10",moduleName:"floating-bell",attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"floating-bell","data-spot-im-style-module-version":"v2.0.10"}},n=e.tag,i=e.version,o=e.moduleName,r=e.attributes;Object.entries(r).forEach((([e,n])=>t.setAttribute(e,n))),window.__SPOTIM__&&window.__SPOTIM__.attachStyle?window.__SPOTIM__.attachStyle({tag:n,version:i,moduleName:o,stylesheetElement:t}):document.head.appendChild(t)},singleton:!1},x=(E()(N.Z,B),N.Z.locals||{}),S=n(519);window.__OW_OPEN_NOTIFICATIONS__=t.onBellClick,window.__OW_SUBSCRIBE_TO_NOTIFICATIONS__=t.subscribeToNotifications,i().getAsyncToken().then((()=>{(0,o.dispatchSpotimEvent)("ow-notifications-sdk-ready")})),window.__OPEN_WEB__.NOTIFICATIONS_BELL_BOOTED||(window.__OPEN_WEB__.NOTIFICATIONS_BELL_BOOTED=!0,_&&!d||y&&!f||((0,r.trackEvent)({source:"notifications",item_type:"floating-bell",spot_id:l,post_id:c,type:"loaded"}),(()=>{const{bellButton:e,svgWrapper:n,unseenBadge:i}=(()=>{const t=(()=>{const t=g({type:"div",parent:document.body});return t.attachShadow({mode:"open"}),(0,b.exposeAnimationEvents)(t,{defensiveMode:!1}),t.setAttribute("data-spot-im-shadow-host","floating-bell"),t})(),e=g({type:"div",attributes:[{key:"id",value:"spotim-specific"}],parent:t.shadowRoot}),n=g({type:"div",attributes:[{key:"data-spot-im-direction",value:u?"ltr":"rtl"}],parent:e}),i=g({type:"div",className:v()(x.notificationsWrapper,{[x.bottomRight]:!w,[x.bottomLeft]:w}),attributes:[{key:"style",value:"display:none"}],parent:n}),o=(g({type:"span",attributes:[{key:"data-ow-notifications-placeholder",value:""},{key:"data-instance-id",value:"floating-bell"}],className:v()(x.notificationsContainer,{[x.bottomRight]:!w,[x.bottomLeft]:w}),parent:i}),g({type:"button",className:v()(x.bellButton,{[x.bottomRight]:!w,[x.bottomLeft]:w}),parent:i})),r=(g({type:"div",className:x.buttonBackground,parent:i}),g({type:"span",className:x.counterWrapper,attributes:[{key:"style",value:"display:none"}],parent:i})),a=g({type:"div",className:x.svgWrapper,parent:o});return h({parent:a}),{bellWrapper:i,bellButton:o,svgWrapper:a,unseenBadge:r}})();(({container:e,svgContainer:n})=>{e.onclick=()=>((e,n)=>{const i=e.classList.contains(x.clicked),o={postId:c,instanceId:"floating-bell",trackingSource:"floating-bell"};(0,t.onBellClick)(o),i||(e.classList.add(x.clicked),n.removeChild(n.childNodes[0]),(({parent:t})=>{const e=g({type:"svg",attributes:[{key:"viewBox",value:"0 0 14 14"},{key:"height",value:"20px"},{key:"data-testid",value:"close-svg"},{key:"style",value:"color:white"}],parent:t});g({type:"path",attributes:[{key:"d",value:"M7 5.586L1.414 0 0 1.414 5.585 7 0 12.586 1.414 14 7 8.414 12.586 14l1.413-1.414L8.414 7l5.585-5.586L12.586 0z"}],parent:e})})({parent:n}))})(e,n),(0,S.subscribe)("floating-bell-close",(()=>((t,e)=>{t.classList.contains(x.clicked)&&(t.classList.remove(x.clicked),e.removeChild(e.childNodes[0]),h({parent:e}))})(e,n)))})({container:e,svgContainer:n}),(0,t.subscribeToNotifications)(c,(t=>((t,e)=>{e.innerText=`${t}`,t>0?(e.style.display="flex",t>99&&(e.classList.add(x.isMaxCount),e.innerText="99+")):e.style.display="none"})(t,i)))})()))}()}();
//# sourceMappingURL=notifications-sdk-bundle.js.map