(window.webpackJsonp_spotim_2087778507=window.webpackJsonp_spotim_2087778507||[]).push([[2],{283:function(e,t,n){e.exports={card:"card__card___kMxYu",compact:"card__compact___2W1JZ",shrinked:"card__shrinked___2Vgv7"}},284:function(e,t,n){e.exports={title:"article__title___3-78m",large:"article__large___1yZZv",compact:"article__compact___2EGeM",disableUgc:"article__disableUgc___1CVqI",hover:"article__hover___1Rxye",small:"article__small___3YxTu",commentCountContainer:"article__commentCountContainer___sw1j7",commentSymbol:"article__commentSymbol___1Rihm",commentCount:"article__commentCount___22rvl",comments:"article__comments___qPbsa",commentsIcon:"article__commentsIcon___1jYy8",commentBox:"article__commentBox___1D1LG",contentContainer:"article__contentContainer___3m_-m",isMobileOnly:"article__isMobileOnly___rY_Yq",container:"article__container___QmeJf",image:"article__image___2S6QN",imageContainer:"article__imageContainer___2Sp47",readArticleButton:"article__readArticleButton___3EVwx",readArticleText:"article__readArticleText___B8oMF"}},288:function(e,t,n){e.exports={commentTimestamp:"comment-timestamp__commentTimestamp___wOESz"}},289:function(e,t,n){e.exports={topCommentBadge:"top-comment-badge__topCommentBadge___1g74t",topCommentText:"top-comment-badge__topCommentText___3jvvb",textOverflown:"top-comment-badge__textOverflown___e2Any",tooltiptext:"top-comment-badge__tooltiptext___13s8d",tooltipEnabled:"top-comment-badge__tooltipEnabled___2eXW3",icon:"top-comment-badge__icon___DZpeJ"}},290:function(e,t,n){e.exports={avatar:"avatar__avatar___1--tf"}},291:function(e,t,n){e.exports={commentWrapper:"comment__commentWrapper___1Tvkv",large:"comment__large___Wdp0t",small:"comment__small___1eZJ9",hideCommentFooter:"comment__hideCommentFooter___1qOB2",commentHeader:"comment__commentHeader___iIOjS",ovalSeperator:"comment__ovalSeperator___4Sp0L",userName:"comment__userName___3vwgz",subscriberBadge:"comment__subscriberBadge___1eaYT",commentBody:"comment__commentBody___kNrsz",commentFooter:"comment__commentFooter___369GY",like:"comment__like___3Fp8k",animating:"comment__animating___3GWHC","branded-heart-burst":"comment__branded-heart-burst___1vAJe",active:"comment__active___1C1no",noLikes:"comment__noLikes___3f4gK",likeBox:"comment__likeBox___1bJs2"}},331:function(e,t,n){e.exports={carouselContainer:"carousel__carouselContainer___14uXs",isVerticalView:"carousel__isVerticalView___1zOBd",carousel:"carousel__carousel___2l3OZ",isMobileOnly:"carousel__isMobileOnly___2G877",isMobile:"carousel__isMobile___1excp",endSidebar:"carousel__endSidebar___1TGyN",scrolledToEnd:"carousel__scrolledToEnd___98OX6",shrinked:"carousel__shrinked___I27Qs",endSidebarShadow:"carousel__endSidebarShadow___2Pa-l",startSidebar:"carousel__startSidebar___2FDPv",scrolled:"carousel__scrolled___nOoSL",startSidebarShadow:"carousel__startSidebarShadow___2g6GU",endPath:"carousel__endPath___2l6Rk",startPath:"carousel__startPath___28lsR",highlightedBackground:"carousel__highlightedBackground___udPI9",leftButtonContainer:"carousel__leftButtonContainer___jpEIm",rightButtonContainer:"carousel__rightButtonContainer___3XoYR",endOval:"carousel__endOval___3snKn",startOval:"carousel__startOval___y-f8j"}},335:function(e,t,n){e.exports={container:"CompactScrollButton__container___heZs0",left:"CompactScrollButton__left___3PhQ5",right:"CompactScrollButton__right___35k_b",show:"CompactScrollButton__show___3lSt7",halfCircle:"CompactScrollButton__halfCircle___iR7TY",chevron:"CompactScrollButton__chevron___2Ajnd",hover:"CompactScrollButton__hover___1X6Nv"}},340:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(4),o=n.n(c),i=n(0),l=n.n(i),s=n(11),u=n(25),m=n(26),_=n(337),d=n(3),f=n.n(d),p=n(282),v=n.n(p),b=n(13),g=n.n(b),O=n(283),h=n.n(O),E=n(33),S=n.n(E),C=function(e){var t,n=e.width,a=e.compact,c=e.children,o=e.isShrinked,i=void 0!==o&&o;return l.a.createElement("div",{className:S()(h.a.card,(t={},r()(t,h.a.compact,a),r()(t,h.a.shrinked,i),t)),style:{width:n}},c)},j=n(23),y=n(68),w=n(284),L=n.n(w),M=["","K","M","B","T"],k=function(e){var t=Math.log10(e)/3|0;if(0===t)return String(e);var n=M[t],a=e/Math.pow(10,3*t),r=a.toFixed(1);return r.endsWith(".0")?a.toFixed(0)+n:r+n},N=function(e){return null!=e},R=function(e){var t=e.className;return l.a.createElement("svg",{className:t,viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M256 64c123.5 0 224 79 224 176S379.5 416 256 416c-28.3 0-56.3-4.3-83.2-12.8l-15.2-4.8-13 9.2c-23 16.3-58.5 35.3-102.6 39.6 12-15.1 29.8-40.4 40.8-69.6l7.1-18.7-13.7-14.6C47.3 313.7 32 277.6 32 240c0-97 100.5-176 224-176m0-32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26 3.8 8.8 12.4 14.5 22 14.5 61.5 0 110-25.7 139.1-46.3 29 9.1 60.2 14.3 93 14.3 141.4 0 256-93.1 256-208S397.4 32 256 32z"}))},T=function(e){return"url(".concat(e,")")},I=n(1);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,D=f.a.get("tenant_config.pitc.imageQuality",I.k),B=f.a.get("tenant_config.pitc.disableUgc",!1),F=function(e){return B&&(e.gravity="auto",e.resize={aspectRatio:"0.85",type:"fill"}),Object(j.b)(P(P({},e),{},{quality:D}))},z=function(e,t){return e?I.g:t?I.n:I.b},U=n(24),G=function(e){var t=e.title,n=e.imageUrl,a=e.url,c=e.hover,o=e.commentCount,i=e.compact,u=e.large,_=void 0!==u&&u,d=e.small,f=void 0!==d&&d,p=e.onMouseEnter,v=void 0===p?function(){}:p,b=e.onMouseLeave,g=void 0===b?function(){}:b,O=e.onClick,h=void 0===O?function(){}:O,E=Object(s.useSelector)(U.c),C=function(e){var t;return S()(e,(t={},r()(t,L.a.large,_&&!E),r()(t,L.a.small,f&&!E),r()(t,L.a.disableUgc,E),r()(t,L.a.hover,c),r()(t,L.a.compact,i),r()(t,L.a.isMobileOnly,m.isMobileOnly),t))},y=N(o)&&"".concat(k(o)," ").concat(1===o?"comment":"comments");return l.a.createElement("div",{className:C(L.a.container),onClick:function(){h(),Object(j.d)(a)},onMouseEnter:v,onMouseLeave:g},l.a.createElement("div",{className:C(L.a.imageContainer)},l.a.createElement("div",{style:{backgroundImage:T(F({url:n,height:z(i,E),dpr:window.devicePixelRatio}))},className:C(L.a.image)})),l.a.createElement("div",{className:C(L.a.contentContainer)},l.a.createElement("div",{className:C(L.a.title)},t),i&&N(o)&&l.a.createElement("div",{className:C(L.a.commentCountContainer)},l.a.createElement(R,{className:C(L.a.commentSymbol)}),l.a.createElement("div",{className:C(L.a.commentCount)},y))))},H=n(285),W=n(286),Y=n(287),V=n(338),Z=n(339),q=n(336),J=n(131),X=n.n(J);!function(e){e.SECONDS="s",e.MINUTES="m",e.HOURS="h",e.DAYS="d",e.YEARS="y"}(A||(A={}));var Q=X()((function(e){var t=1e3*e,n=Date.now(),a=Object(H.a)(n,t);if(a<60)return"".concat(a).concat(A.SECONDS);var r=Object(W.a)(n,t);if(r<60)return"".concat(r).concat(A.MINUTES);var c=Object(Y.a)(n,t);if(c<24)return"".concat(c).concat(A.HOURS);var o=Object(V.a)(n,t);if(o<7)return"".concat(o).concat(A.DAYS);var i=Object(Z.a)(n,t);return i>1?"".concat(i).concat(A.YEARS):Object(q.a)(t,"d MMM")})),K=n(288),$=n.n(K),ee=function(e){var t=e.timestamp;return l.a.createElement("span",{className:$.a.commentTimestamp},Q(t))},te=n(57),ne=n(36),ae=n.n(ne),re=function(e){var t=e.className,n=e.display;return l.a.createElement("svg",{style:{display:n},className:t,viewBox:"0 0 12 14"},l.a.createElement("path",{fill:"#DB3737",fillRule:"nonzero",d:"M4.429 14C2.857 13.53.666 11.476.517 9.048.368 6.621 1.2 5.181 2.702 3.56 3.704 2.479 4.415 1.292 4.835 0 6.683 1.454 8.28 4.292 8.28 7.327c.673-.549 1.173-1.355 1.501-2.42 1.391 1.29 2.003 3.278 1.595 5.184C10.97 11.985 9.143 13.53 7.57 14v-.412c1.572-.906 2.59-2.717 2.347-5a5.116 5.116 0 0 1-3.132 1.882c.078-3.045-.39-5.302-1.4-6.771C4.224 5.393 3.14 5.944 2.53 7.327c-1.174 2.66.326 5.355 1.898 6.261V14z"}))},ce=n(289),oe=n.n(ce),ie=function(e){var t=e.cardWidth,n=e.footerFontSize,a=!te.a&&t!==I.e.LARGE,r=t===I.e.EXTRA_SMALL?"none":"inline",c=function(e){return g.a.bind(oe.a)(e,{textOverflown:a,tooltipEnabled:Boolean(a)})},o=f.a.get("tenant_config.pitc.topCommentOverride",ae.a.t("pitc.top comment"));return l.a.createElement("div",{className:c(oe.a.topCommentBadge)},l.a.createElement(re,{display:r,className:c(oe.a.icon)}),l.a.createElement("div",{style:{fontSize:n},className:c(oe.a.topCommentText)},o),l.a.createElement("span",{className:c(oe.a.tooltiptext)},o))},le=function(e){var t=e.baseUrlUpload,n=e.pathname,a=e.transformations;return"".concat(t,"/").concat(a,"/").concat(n)},se=function(e){var t=e.startsWith("#")?"/".concat("avatars","/").concat(e.slice(1)):"/".concat(e);return F({pathname:t,width:60,height:60,getUrl:le})},ue=n(290),me=n.n(ue),_e=l.a.memo((function(e){var t=e.userImageId;return l.a.createElement("img",{className:me.a.avatar,src:se(t),width:I.A,height:I.z})})),de=function(e){var t=e.className,n=e.isActive,a=e.onClick,r=e.onMouseLeave;return n?l.a.createElement("svg",{onClick:a,onMouseLeave:r,className:t,viewBox:"0 0 16 15"},l.a.createElement("path",{fillRule:"nonzero",d:"M5.206 14.38C4.702 12.66 4.45 11.2 4.45 10c0-1.02.183-2.14.55-3.354l.002.003c1.307-1.87 1.58-3.113 1.66-5.209C6.697.732 7.183.166 7.81.03 7.89.013 7.971.004 8.052 0c.08-.003.159 0 .24.012.492.07.988.404 1.327 1 .63 1.102.817 2.803.535 4.654h4.732c.72 0 1.095.483 1.114 1.337.005 3.568-2.199 7.399-3.09 7.899a.374.374 0 0 1-.23.085c-3.549-.014-5.087.057-6.024-.04-.468-.048-.811-.156-1.114-.337a3.613 3.613 0 0 1-.336-.23zm-.869.236a.91.91 0 0 1-.11.007H.919A.923.923 0 0 1 0 13.709v-6.58c0-.5.416-.914.919-.914H4.19C3.764 7.578 3.55 8.84 3.55 10c0 1.286.263 2.824.787 4.616z"})):l.a.createElement("svg",{onClick:a,onMouseLeave:r,className:t,viewBox:"0 0 16 15"},l.a.createElement("path",{fillRule:"nonzero",d:"M7.81.03c-.627.136-1.113.702-1.148 1.41-.08 2.096-.353 3.338-1.66 5.21a.92.92 0 0 0-.775-.435H.919A.923.923 0 0 0 0 7.13v6.58c0 .5.416.914.919.914h3.308a.921.921 0 0 0 .764-.411c.19.153.368.29.551.4.303.18.646.288 1.114.336.937.097 2.475.026 6.024.04a.374.374 0 0 0 .23-.085c.891-.5 3.095-4.33 3.09-7.9-.019-.853-.394-1.336-1.114-1.336h-4.732c.282-1.851.095-3.552-.535-4.655-.34-.595-.835-.928-1.326-1a1.307 1.307 0 0 0-.241-.01c-.08.002-.163.01-.242.028zm1.568 5.934c-.04.21.146.435.362.434h5.042c.26.027.489.07.489.686 0 .786-.122 2.164-.751 3.793-.629 1.628-1.567 3.398-1.893 3.34-.884.06-5.101.082-5.896 0-.405-.041-.596-.1-.81-.228-.193-.115-.43-.318-.775-.594v-5.7c1.708-2.16 2.166-3.977 2.251-6.226.246-1.12 1.238-.811 1.585-.097.507 1.801.64 3.332.396 4.592zm-8.46.982h3.309c.108 0 .184.076.184.183v6.58a.175.175 0 0 1-.184.183H.919a.175.175 0 0 1-.184-.183v-6.58c0-.107.076-.183.184-.183z"}))},fe=n(291),pe=n.n(fe),ve=function(e){var t=e>=I.e.LARGE,n=e<I.e.SMALL;return t?I.q.LARGE:n?I.q.EXTRA_SMALL:I.q.SMALL},be=n(50),ge=n(35),Oe=n(27),he=Object(Oe.a)("analytics")((function(e){return e.analyticsName})),Ee=function(e){var t=e.className;return l.a.createElement("svg",{className:t,width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1"},l.a.createElement("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l.a.createElement("g",{id:"El-Espanol---Conversation-+-PitC",transform:"translate(-286.000000, -6589.000000)",fill:"#FABB09","fill-rule":"nonzero"},l.a.createElement("g",{id:"noun_Crown_514694-Copy",transform:"translate(286.000000, 6589.000000)"},l.a.createElement("path",{d:"M7,0 C3.12666667,0 0,3.12666667 0,7 C0,10.8733333 3.12666667,14 7,14 C10.8733333,14 14,10.8733333 14,7 C14,3.12666667 10.8733333,0 7,0 Z M10.5,9.05333333 L3.5,9.05333333 L3.5,4.10222222 L5.25777778,6.87016623 L7,4.10222222 L8.74222222,6.87016623 L10.4844444,4.10222222 L10.4844444,9.05333333 L10.5,9.05333333 Z",id:"Shape"})))))},Se=f.a.get("tenant_config.pitc.hideCommentFooter",!1),Ce=f.a.get("tenant_config.pitc.hideTimestampMobile",!1),je=function(e){var t=e.id,n=e.spotId,a=e.postId,c=e.userName,u=e.userImageId,_=e.writtenAt,d=e.content,f=e.likeCount,p=e.url,v=e.conversationId,b=e.isSubscriber,g=e.large,O=void 0!==g&&g,h=e.small,E=void 0!==h&&h,C=e.onMouseEnter,j=void 0===C?function(){}:C,y=e.onMouseLeave,w=void 0===y?function(){}:y,L=e.onClick,M=void 0===L?function(){}:L,N=Object(i.useState)(!1),R=o()(N,2),T=R[0],x=R[1],P=Object(s.useSelector)(U.b),A=ve(P),D=ge.b(v),B=ge.c(v),F=Object(s.useSelector)(D),z=Object(s.useSelector)(B),G=Object(s.useDispatch)(),H=f+z>0||F,W=k(Math.max(f+z,1)),Y=function(e){var t;return S()(e,(t={},r()(t,pe.a.large,O),r()(t,pe.a.small,E),r()(t,pe.a.noLikes,!H),r()(t,pe.a.animating,T&&F),r()(t,pe.a.active,F),r()(t,pe.a.hideCommentFooter,Se),t))},V=Object(s.useSelector)(he),Z=Object(i.useCallback)((function(){M(),function(){try{return window.self!==window.top}catch(e){return!0}}()?window.top.location.replace(p):location.assign(p)}),[p]),q=Object(i.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),x(!F),G(Object(be.c)(t,!F,n,a,v,V))}),[t,F,n,a,v]);return l.a.createElement("div",{onClick:Z,onMouseEnter:j,onMouseLeave:w,className:Y(pe.a.commentWrapper)},l.a.createElement("div",{className:pe.a.commentHeader},l.a.createElement(_e,{userImageId:u}),l.a.createElement("span",{className:pe.a.userName},c),b&&l.a.createElement(Ee,{className:pe.a.subscriberBadge}),function(e){return e===I.e.LARGE&&!(m.isMobile&&Ce)}(P)&&l.a.createElement(i.Fragment,null,l.a.createElement("span",{className:pe.a.ovalSeperator}),l.a.createElement(ee,{timestamp:_}))),l.a.createElement("div",{className:Y(pe.a.commentBody)},d),l.a.createElement("div",{className:Y(pe.a.commentFooter)},l.a.createElement(ie,{cardWidth:P,footerFontSize:A}),l.a.createElement("div",{style:{fontSize:A},className:pe.a.likeBox},l.a.createElement(de,{className:Y(pe.a.like),onClick:q,isActive:F}),H&&l.a.createElement("span",null,W))))};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(){var e=Object(i.useState)(!1),t=o()(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),c=o()(r,2),l=c[0],s=c[1],u=function(e){return a(e)},m=function(e){return s(e)},_={onArticleHover:function(){return u(!0)},onArticleLeave:function(){return u(!1)},onCommentHover:function(){return m(!0)},onCommentLeave:function(){return m(!1)}},d={commentLarge:l,commentSmall:n};return we(we(we({},{articleLarge:n,articleSmall:l,articleHover:n}),d),_)};function Me(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(i.useRef)(),r=Object(i.useRef)(0);return Object(i.useEffect)((function(){a.current=e}),[e]),Object(i.useEffect)((function(){if(null!==t&&a.current&&n)return r.current=window.setTimeout(a.current,t),function(){return window.clearTimeout(r.current)}}),[t,n]),function(){return window.clearTimeout(r.current)}}var ke=n(292),Ne=n.n(ke),Re=n(84),Te=function(e){return o()(e.content,1)[0].text},Ie=function(e){return e.id},xe=function(e,t){var n=e.messageData.users[t.userId],a=n.displayName,r=n.userName;return a||r},Pe=function(e,t){var n=e.messageData.users[t.userId].ssoData;return!!n&&n.isSubscriber},Ae=function(e,t){return e.messageData.users[t.userId].imageId},De=function(e){return e.writtenAt},Be=function(e){return e.rank.ranksUp},Fe=function(e){return e.extractData.url},ze=function(e){return e.extractData.title},Ue=function(e){return e.extractData.thumbnailUrl},Ge=function(e){return e.messageData.messagesCount},He=n(7),We=function(e,t,n){return r()({},He.f,JSON.stringify(function(e,t,n){var a;return a={},r()(a,He.e.COMMENT_ID,Ie(t)),r()(a,He.e.USER_ID,function(e){return e.userId}(t)),r()(a,He.e.CONVERSATION_ID,function(e){return e.conversationId}(e)),r()(a,He.e.ITEM_NUMBER,n+1),a}(e,t,n)))},Ye=n(37),Ve=n(66),Ze=f.a.get("tenant_config.pitc.use_new_redirect_url",!1),qe=f.a.get("spotId"),Je=function(e,t){var n,a=Ze?"/feed/deflect/".concat(qe,"?val={{URL}}&params={{PARAMS}}"):"/feed/redirect?url={{URL}}&params={{PARAMS}}";return"".concat((n="".concat(Ye.a).concat(Ye.b),Object(Ve.a)()?n.replace(Ye.b,f.a.get("queryParams.TEAM_ROUTE",Ye.b)):n)).concat(a).replace("{{URL}}",function(e){return btoa(e)}(e)).replace("{{PARAMS}}",function(e){return btoa(JSON.stringify(e))}(t))};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke,$e=function(e){return function(e){for(var t=Qe({},e),n=0,a=[["type","action"],["guid","device_uuid"]];n<a.length;n++){var r=o()(a[n],2),c=r[0];t[r[1]]=t[c],delete t[c]}return t}(function(e){return Ne()(e,["time_delta","duration"])}(e))},et=function(e){var t=e.index,n=e.url,a=function(e){var t=e.index,n=e.clickTargetType,a=e.post,c=e.comment,o=e.trackingData;return Object(Re.preparePayload)(Qe(Qe(Qe({},o),We(a,c,t)),{},r()({type:He.a},He.n,n)))}({index:t,clickTargetType:e.clickTargetType,post:e.post,comment:e.comment,trackingData:e.trackingData});return Je(n,$e(a))},tt=f.a.get("tenant_config.pitc.disable_tracking_params",!1),nt=f.a.get("tenant_config.pitc.article_ignore_search_params",[]),at=f.a.get("tenant_config.pitc.comment_ignore_search_params",[]),rt=(Ke={},r()(Ke,He.o.ARTICLE,nt),r()(Ke,He.o.COMMENT,at),Ke),ct=function(e,t,n,a){for(var r=new URL(e),c=0,i=Object.entries(t);c<i.length;c++){var l=o()(i[c],2),s=l[0],u=l[1];rt[n].includes(s)||r.searchParams.set(s,u)}return tt||(r.searchParams.set("utm_source","spotim"),r.searchParams.set("utm_medium","spotim_recirculation"),a&&(r.searchParams.set("spot_im_redirect_source","pitc"),r.searchParams.set("spot_im_comment_id",a),r.searchParams.set("spot_im_highlight_immediate","true"))),r.href};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt,st=function(e){var t=e.index,n=e.post,a=e.spotId,c=e.postId,m=e.conversationId,_=e.compact,d=Object(s.useDispatch)(),p=Object(s.useSelector)(U.c),v=Object(u.useTracking)(),b=v.trackEvent,g=v.getTrackingData,O=Le(),h=O.onArticleHover,E=O.onArticleLeave,S=O.onCommentHover,C=O.onCommentLeave,w=O.articleLarge,L=O.articleSmall,M=O.commentLarge,k=O.commentSmall,N=O.articleHover,R=function(e){return o()(e.messageData.comments,1)[0]}(n),T=Ie(R),x=function(e){return function(){return b(it(it({type:He.g},We(n,R,t)),{},r()({},He.n,e)))}},P=Object(i.useState)(!1),A=o()(P,2),D=A[0],B=A[1],F=Object(i.useState)(!1),z=o()(F,2),H=z[0],W=z[1],Y=Me(x(He.o.ARTICLE),750,D),V=Me(x(He.o.COMMENT),750,H),Z=function(){Object(j.a)(I.p.onCardClick,{url:Fe(n),title:ze(n)})},q=g(),J=Fe(n),X=function(e){var t=J,n=f.a.get("queryParams"),a=e===He.o.COMMENT?T:null;try{t=ct(t,n,e,a)}catch(e){console.error(e)}return t},Q=function(e){return et({url:X(e),clickTargetType:e,post:n,comment:R,index:t,trackingData:q})};return l.a.createElement(i.Fragment,null,l.a.createElement(G,{onMouseEnter:function(){B(!0),h()},onMouseLeave:function(){E(),Y(),B(!1)},onClick:Z,large:w,small:L,hover:N,commentCount:Ge(n),imageUrl:Ue(n),title:ze(n),url:Q(He.o.ARTICLE),compact:_}),!p&&l.a.createElement(je,{id:R.id,spotId:a,postId:c,conversationId:m,onMouseEnter:function(){W(!0),S(),d({type:y.a.SET_READING_START,lastMeasured:Date.now()})},onMouseLeave:function(){C(),V(),W(!1),d((function(e,t){var n=0,a=t().reading.lastMeasured;return a>0&&(n=Date.now()-a),e({type:y.a.SET_READING_STOP,readingTime:n})}))},onClick:Z,large:M,small:k,userName:xe(n,R),userImageId:Ae(n,R),writtenAt:De(R),content:Te(R),likeCount:Be(R),url:Q(He.o.COMMENT),isSubscriber:Pe(n,R)}))},ut=l.a.memo((function(e){var t=e.index,n=e.style,a=e.post,r=e.spotId,c=e.postId,o=e.conversationId,i=e.compact,s=e.isShrinked;return l.a.createElement("div",{style:n},l.a.createElement(C,{width:"auto",compact:i,isShrinked:s},l.a.createElement(st,{index:t,post:a,spotId:r,postId:c,conversationId:o,compact:i})))})),mt=n(331),_t=n.n(mt),dt=function(e){var t=e.className;return l.a.createElement("svg",{className:t,width:"10px",height:"12px",viewBox:"0 0 10 12",version:"1.1",preserveAspectRatio:"xMidYMid meet"},l.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},l.a.createElement("g",{transform:"translate(-508.000000, -268.000000)",fill:"#FFFFFF",fillRule:"nonzero"},l.a.createElement("g",{transform:"translate(497.000000, 260.000000)"},l.a.createElement("path",{d:"M11.3598156,18.2317787 C10.9355387,18.5853428 10.8782146,19.2159075 11.2317787,19.6401844 C11.5853428,20.0644613 12.2159075,20.1217854 12.6401844,19.7682213 L18.6401844,14.7682213 C19.1199385,14.3684262 19.1199385,13.6315738 18.6401844,13.2317787 L12.6401844,8.23177872 C12.2159075,7.87821464 11.5853428,7.9355387 11.2317787,8.3598156 C10.8782146,8.7840925 10.9355387,9.4146572 11.3598156,9.76822128 L16.4379501,14 L11.3598156,18.2317787 Z"})))))},ft=function(e,t){return Math.floor(100*e/t)},pt=n(19),vt=n(67),bt=function(e,t){var n=Object(i.useState)(!1),a=o()(n,2),r=a[0],c=a[1];Object(i.useEffect)((function(){c(!1)}),[e]),Object(i.useEffect)((function(){t&&c(!1)}),[t]);return[r,function(){return c(!0)}]},gt=n(332),Ot=n.n(gt),ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(i.useMemo)((function(){return Ot()(e,t)}),[e,t]);return Object(i.useEffect)((function(){return function(){return n.cancel()}}),[n]),n},Et=function(e){var t=e.className;return l.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},l.a.createElement("path",{d:"M231.293 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L70.393 256 251.092 74.87c4.686-4.686 4.686-12.284 0-16.971L231.293 38.1c-4.686-4.686-12.284-4.686-16.971 0L4.908 247.515c-4.686 4.686-4.686 12.284 0 16.971L214.322 473.9c4.687 4.686 12.285 4.686 16.971-.001z"}))},St=function(e){var t=e.className;return l.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},l.a.createElement("path",{d:"M24.707 38.101L4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"}))},Ct=n(335),jt=n.n(Ct);!function(e){e.Right="right",e.Left="left"}(lt||(lt={}));var yt,wt,Lt=function(e){var t=e.side,n=e.show,a=e.onClick,c=Object(i.useState)(!1),s=o()(c,2),u=s[0],m=s[1],_=function(e){var a;return S()(e,(a={},r()(a,jt.a.left,t===lt.Left),r()(a,jt.a.right,t===lt.Right),r()(a,jt.a.hover,u),r()(a,jt.a.show,n),a))};return l.a.createElement("div",{className:_(jt.a.container),onClick:a},l.a.createElement("div",{className:_(jt.a.halfCircle),onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},t===lt.Right?l.a.createElement(St,{className:_(jt.a.chevron)}):l.a.createElement(Et,{className:_(jt.a.chevron)})))};!function(e){e.SCROLL_TO="top",e.SCROLL_FROM_EDGE="scrollTop"}(yt||(yt={})),function(e){e.SCROLL_TO="left",e.SCROLL_FROM_EDGE="scrollLeft"}(wt||(wt={})),v.a.polyfill();var Mt=f.a.get("tenant_config.pitc.remove_scroll_arrows",!1),kt=function(e,t){return t?I.d:e?I.i:I.c};t.default=function(e){var t=e.posts,n=e.spotId,a=e.postId,c=e.reversedOrder,d=e.width,f=e.height,p=e.updateAction,v=e.compact,b=e.itemSize,O=void 0===b?vt.a.ITEM_SIZE:b,h=e.overscan,E=void 0===h?vt.a.OVERSCAN:h,S=e.updateMargin,C=void 0===S?vt.c.UPDATE_MARGIN:S,y=e.layout,w=void 0===y?vt.a.LAYOUT:y,L=e.scrollBehavior,M=void 0===L?"smooth":L,k=e.direction,N=void 0===k?"ltr":k,R=e.updateRetryCondition,T=void 0!==R&&R,x=e.obscuredWidth,P=void 0===x?0:x,A=Object(s.useDispatch)(),D=Object(u.useTracking)(),B=Object(i.useState)(1),F=o()(B,2),z=F[0],G=F[1],H=Object(i.useState)(!1),W=o()(H,2),Y=W[0],V=W[1],Z=Object(i.useState)(0),q=o()(Z,2),J=q[0],X=q[1],Q=Object(i.useState)(!1),K=o()(Q,2),$=K[0],ee=K[1],te=Object(i.useState)(!1),ne=o()(te,2),ae=ne[0],re=ne[1],ce=bt(t,T),oe=o()(ce,2),ie=oe[0],le=oe[1],se=Object(s.useSelector)(U.f),ue=Object(s.useSelector)(U.d),me=Object(s.useSelector)(U.e),_e=Object(s.useSelector)(ge.a),de=Object(i.useRef)(null),fe=Object(i.useRef)({scrollTo:function(e){},scrollLeft:0,scrollTop:0,clientWidth:0,clientHeight:0});Object(i.useEffect)((function(){ue||pt.b.apm.end("critical_flow")}),[]),Object(i.useEffect)((function(){var e=je();ee(e)}),[t]),Object(i.useEffect)((function(){return p&&Y&&!ie&&(A(p()),le()),function(){V(!1)}}),[p,Y,ie]);var pe=Object.keys(t).length,ve=Math.ceil(P/O),be=Object(i.useCallback)((function(e){return e===pe-1&&!_e&&v?O-kt(v,se):O}),[pe,_e,v,se]),Oe=function(e){return g.a.bind(_t.a)(e,{scrolledToEnd:$,scrolled:ae,shrinked:me,isMobileOnly:m.isMobileOnly,isMobile:m.isMobile||m.isIPad13||m.isIPhone13,isVerticalView:se})},he=function(e){var t,n,a,c,o;N===I.o.RTL?null===(t=de.current)||void 0===t||null===(n=t.scrollTo)||void 0===n||n.call(t,e*O):null===(a=(c=fe.current).scrollTo)||void 0===a||a.call(c,(o={},r()(o,se?yt.SCROLL_TO:wt.SCROLL_TO,e*O),r()(o,"behavior",M),o))},Ee=function(){D.trackEvent(r()({type:He.i},He.j,vt.b.backward)),he(J-z),Object(j.a)(I.p.onLeftArrowClick)},Se=function(){D.trackEvent(r()({type:He.i},He.j,vt.b.forward)),he(J+z),Object(j.a)(I.p.onRightArrowClick)},Ce=ht(Object(i.useCallback)((function(e){D.trackEvent(r()({type:He.m},He.j,e)),Object(pt.a)(He.m)}),[]),vt.d),je=function(){var e=se?yt.SCROLL_FROM_EDGE:wt.SCROLL_FROM_EDGE,t=v?kt(v,se):0;return pe*O-t-fe.current[e]-fe.current.clientWidth<=0},ye=function(e){var r=e.index,o=e.style,i=(c?Object.keys(t).reverse():Object.keys(t))[r];return l.a.createElement(ut,{index:r,style:o,post:t[i],spotId:n,postId:a,conversationId:i,compact:v,isShrinked:me})};return l.a.createElement("div",{className:Oe(_t.a.carouselContainer)},v&&!m.isMobile&&!Mt&&l.a.createElement(Lt,{show:ae,side:lt.Left,onClick:Ee}),l.a.createElement(_.a,{direction:N,className:Oe(_t.a.carousel),ref:de,outerRef:fe,height:me?155:f,overscanCount:E,width:d,layout:w,itemCount:pe,estimatedItemSize:O,itemSize:be,onScroll:function(e){var t=e.scrollOffset,n=e.scrollDirection,a=t>0,r=je();ee(r),re(a),a&&Ce(vt.b[n])},onItemsRendered:function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;X(t),V(ft(n,pe)>=C),se||G(Math.max(n-t-ve,1))}},ye),v&&!m.isMobile&&!Mt&&l.a.createElement(Lt,{show:!$,side:lt.Right,onClick:Se}),!v&&!Mt&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Oe(_t.a.startSidebar)},l.a.createElement("div",{className:Oe(_t.a.leftButtonContainer)},l.a.createElement("div",{className:g()(_t.a.highlightedBackground)}),l.a.createElement("div",{"data-testid":vt.e.SCROLL_BACK,className:Oe(_t.a.startOval),onClick:Ee},l.a.createElement(dt,{className:Oe(_t.a.startPath)}))),l.a.createElement("div",{className:Oe(_t.a.startSidebarShadow)})),l.a.createElement("div",{className:Oe(_t.a.endSidebar)},l.a.createElement("div",{className:Oe(_t.a.rightButtonContainer)},l.a.createElement("div",{className:g()(_t.a.highlightedBackground)}),l.a.createElement("div",{"data-testid":vt.e.SCROLL_FORWARD,className:Oe(_t.a.endOval),onClick:Se},l.a.createElement(dt,{className:Oe(_t.a.endPath)}))),l.a.createElement("div",{className:Oe(_t.a.endSidebarShadow)}))))}}}]);
//# sourceMappingURL=2.js.map